var documento_view = Backbone.View.extend({
    el: 'body',
    defaults: {
        content_page: "#content_page"
    },
    events:{
        "click .btnGuardarNuevoDocumento":"f_nuevoDocumento",
        "click .btnGuardarCambiosVacante":"f_editarDocumento"

    },
    initialize: function(e){
        try {
            $("#tablaUsuarios").DataTable();
        }catch(exception){
            console.log(exception);
        }
    },
    f_nuevoDocumento:function(e){
        var _this = this;
        la_data = {
            documento:      $(".txtDocumento").val(),
            descripcion:    $(".txtDescripcion").val()
        }

        _this.model.f_guardarDocumento(la_data).done(function(res){
            if(res.ok){
                $(".txtDocumento").val("");
                $(".txtDescripcion").val("");
                swal("Bien","Nuevo documento guardado correctamente","success");
                location.href = BASE_URL+'catalogo-general/tipo-documento';
            }
        });

    },
    f_editarDocumento:function(e){
        var _this = this;
        lo_current = e.currentTarget;

        var id_documento = parseInt($(lo_current).data('hash'));

        la_data = {
            id_documento:id_documento,
            documento:   $(".txtDocumento"+id_documento).val(),
            descripcion: $(".txtDescripcion"+id_documento).val()
        }
        
        _this.model.f_editarDocumento(la_data).done(function(res){
            if(res.ok){
                swal("Bien","Documento editado correctamente","success");
                location.href = BASE_URL+'catalogo-general/tipo-documento';
            }
        });
    }

});

$(document).ready(function () {
    documento_view = new documento_view({model: new documento_model()});
    
});